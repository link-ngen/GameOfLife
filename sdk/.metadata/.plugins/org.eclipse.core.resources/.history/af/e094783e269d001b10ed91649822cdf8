/*
 * gol_driver.h
 *
 *  Created on: 12.04.2021
 *      Author: progr
 */

#ifndef SRC_GOL_DRIVER_H_
#define SRC_GOL_DRIVER_H_

#include <inttypes.h>
#include "xbasic_types.h"

#define GOL_CTRL_REGISTER 		(0)	// game of life control register
#define GOL_ITER_CTRL_REGISTER 	(1)	// game of life iteration control register
#define GOL_DATA_IN_REGISTER	(2)	// game of life data input register
#define GOL_DATA_OUT_REGISTER	(3)	// game of life data output register

#define GST (0x00000000)	// start iteration
#define GSP (0x00000001)	// start stop
#define GMI (0x00000002)	// max iteration
#define GSI (0x00000004)	// set iteration

#define DEFAULT_ITERATION	(1)

/**
 * Load pattern to the game of life grid.
 */
void init_gol(Xuint32 base_addr, uint32_t data_array[]);

/**
 * Input/output control. Change n_iter
 */
void ioctrl_changeMaxIterationValue(uint32_t value);

/**
 * Write data to gol.
 */
void write_bit_to_gol(uint32_t data);

/**
 * Read data from gol.
 */
uint32_t read_bit_from_gol();

/**
 * Read data from gol and put them to an array.
 */
void read_gol(uint32_t data_array[]);


#endif /* SRC_GOL_DRIVER_H_ */
