/*
 * gol_microblaze.c
 *
 *  Created on: 23.04.2021
 *      Author: progr
 */

#include "gol_microblaze.h"

static Xuint8 grid[HEIGHT][WIDTH] = {0};


void microblaze_init_gol(Xuint8 data_array[])
{
	Xuint16 idx_1d = 0;
	for (Xuint16 r = 0; r < HEIGHT; ++r)
	{
		for (Xuint16 c = 0; c < WIDTH; ++c)
		{
			idx_1d = (r * WIDTH) + c;
			grid[r][c] = data_array[idx_1d];
		}
	}
}

void microblaze_read_gol(Xuint8 data_array[])
{
	Xuint16 idx_1d = 0;
	for (Xuint16 r = 0; r < HEIGHT; ++r)
	{
		for (Xuint16 c = 0; c < WIDTH; ++c)
		{
			idx_1d = (r * WIDTH) + c;
			data_array[idx_1d] = grid[r][c];
		}
	}
}

void microblaze_write_gol(Xuint16 xi, Xuint16 yi, Xuint8 state)
{
	grid[yi][xi] = state;
}

void microblaze_calc_next_iter(Xuint16 n_iter)
{
	for (Xuint16 r = 0; r < HEIGHT; ++r)
	{
		for (Xuint16 c = 0; c < WIDTH; ++c)
		{
		}
	}
}
